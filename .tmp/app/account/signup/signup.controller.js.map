{"version":3,"sources":["../../../../client/app/account/signup/signup.controller.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;IAEP,gBAAgB;;;AAOT,WAPP,gBAAgB,CAOR,IAAI,EAAE,MAAM,EAAE;0BAPtB,gBAAgB;;SAEpB,IAAI,GAAG,EAAE;SACT,MAAM,GAAG,EAAE;SACX,SAAS,GAAG,KAAK;;AAIf,QAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACjB,QAAI,CAAC,MAAM,GAAG,MAAM,CAAC;GACtB;;eAVG,gBAAgB;;WAYZ,kBAAC,IAAI,EAAE;;;AACb,UAAI,CAAC,SAAS,GAAG,IAAI,CAAC;;AAEtB,UAAI,IAAI,CAAC,MAAM,EAAE;AACf,YAAI,CAAC,IAAI,CAAC,UAAU,CAAC;AACnB,cAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;AACpB,eAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK;AACtB,kBAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ;SAC7B,CAAC,CACD,IAAI,CAAC,YAAM;;AAEV,gBAAK,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SACxB,CAAC,SACI,CAAC,UAAA,GAAG,EAAI;AACZ,aAAG,GAAG,GAAG,CAAC,IAAI,CAAC;AACf,gBAAK,MAAM,GAAG,EAAE,CAAC;;;AAGjB,iBAAO,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,UAAC,KAAK,EAAE,KAAK,EAAK;AAC5C,gBAAI,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAC5C,kBAAK,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC;WACpC,CAAC,CAAC;SACJ,CAAC,CAAC;OACJ;KACF;;;SApCG,gBAAgB;;;AAuCtB,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,CACtB,UAAU,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC","file":"signup.controller.js","sourcesContent":["'use strict';\r\n\r\nclass SignupController {\r\n  //start-non-standard\r\n  user = {};\r\n  errors = {};\r\n  submitted = false;\r\n  //end-non-standard\r\n\r\n  constructor(Auth, $state) {\r\n    this.Auth = Auth;\r\n    this.$state = $state;\r\n  }\r\n\r\n  register(form) {\r\n    this.submitted = true;\r\n\r\n    if (form.$valid) {\r\n      this.Auth.createUser({\r\n        name: this.user.name,\r\n        email: this.user.email,\r\n        password: this.user.password\r\n      })\r\n      .then(() => {\r\n        // Account created, redirect to home\r\n        this.$state.go('main');\r\n      })\r\n      .catch(err => {\r\n        err = err.data;\r\n        this.errors = {};\r\n\r\n        // Update validity of form fields that match the mongoose errors\r\n        angular.forEach(err.errors, (error, field) => {\r\n          form[field].$setValidity('mongoose', false);\r\n          this.errors[field] = error.message;\r\n        });\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nangular.module('meetApp')\r\n  .controller('SignupController', SignupController);\r\n"]}